2: [0] import React, { useState, useRef } from 'react';
3: [0] import Markdown from 'markdown-to-jsx';
4: [0] import { Job, Candidate, AIAdOptimizationResult, CompanyProfile } from '../types';
5: [0] import { MOCK_CANDIDATES, MOCK_JOBS, MOCK_COMPANY_PROFILE } from '../constants';
6: [0] import { optimizeJobDescription, matchCandidateToJob } from '../services/geminiService';
7: [0] import { publishJob, getCandidateMatches } from '../services/jobPublishService';
8: [0] import { canCompanyUseFeature, canCompanyPostJob } from '../services/billingService';
9: [0] import { redirectToCheckout } from '../services/stripeService';
10: [0] import { supabase } from '../services/supabaseService';
11: [0] import BullshitMeter from './BullshitMeter';
12: [0] import CompanySettings from './CompanySettings';
13: [0] import AssessmentCreator from './AssessmentCreator';
14: [0] import BenefitInsights from './BenefitInsights';
15: [0] // import CompanyMarketplace from './CompanyMarketplace';
16: [0] import {
17: [0] Briefcase,
18: [0] Users,
19: [0] TrendingUp,
20: [0] PenTool,
21: [0] Sparkles,
22: [0] CheckCircle,
23: [0] Search,
24: [0] Settings,
25: [0] BrainCircuit,
26: [0] DollarSign,
27: [0] Clock,
28: [0] UserCheck,
29: [0] Phone,
30: [0] Mail,
31: [0] XCircle,
32: [0] PauseCircle,
33: [0] Zap,
34: [0] Filter,
35: [0] ArrowRight,
36: [0] TrendingDown,
37: [0] Target,
38: [0] Bold,
39: [0] Italic,
40: [0] List,
41: [0] Heading,
42: [0] Link as LinkIcon,
43: [0] Quote,
44: [0] Code,
45: [0] Smile,
46: [0] Eye,
47: [0] LayoutTemplate,
48: [0] RefreshCw,
49: [0] Crown
50: [0] } from 'lucide-react';
52: [0] // Curated Emojis for Job Ads
53: [0] const JOB_EMOJIS = [
54: [0] 'üöÄ', '‚≠ê', 'üíº', '‚úÖ', 'üî•', 'üí∞', 'üéØ', 'üìç', 'üìà', 'ü§ù',
55: [0] 'üéì', 'üí°', '‚è∞', 'üåç', 'üíª', 'üéâ', 'üõ°Ô∏è', 'üèÜ', 'ü¶Ñ', '‚öñÔ∏è'
56: [0] ];
58: [0] interface CompanyDashboardProps {
59: [0] companyProfile?: CompanyProfile | null;
60: [0] userEmail?: string;
61: [0] }
63: [0] const CompanyDashboard: React.FC<CompanyDashboardProps> = ({ companyProfile: propProfile, userEmail }) => {
64: [0] const [activeTab, setActiveTab] = useState<'overview' | 'create-ad' | 'candidates' | 'settings' | 'assessments' | 'marketplace'>('overview');
65: [0] const [showUpgradeModal, setShowUpgradeModal] = useState<{ open: boolean, feature?: string }>({ open: false });
67: [0] // Real User Detection
68: [0] // If propProfile exists, we are in "Real" mode and should start empty.
69: [0] // If propProfile is null/undefined, we are in "Demo" mode and use Mocks.
70: [0] const isRealUser = !!propProfile;
72: [0] // Profile State
73: [0] const [companyProfile, setCompanyProfile] = useState<CompanyProfile>(propProfile || MOCK_COMPANY_PROFILE);
75: [0] // Data State (Empty for Real, Mocks for Demo)
76: [0] const [jobs, setJobs] = useState<Job[]>(isRealUser ? [] : MOCK_JOBS);
77: [0] const [candidates, setCandidates] = useState<Candidate[]>(isRealUser ? [] : MOCK_CANDIDATES);
79: [0] const [adDraft, setAdDraft] = useState(isRealUser ? '' : MOCK_JOBS[1].description);
80: [0] const [jobTitle, setJobTitle] = useState(isRealUser ? '' : MOCK_JOBS[1].title);
81: [0] const [optimizationResult, setOptimizationResult] = useState<AIAdOptimizationResult | null>(null);
82: [0] const [isOptimizing, setIsOptimizing] = useState(false);
83: [0] const [isPublishing, setIsPublishing] = useState(false);
84: [0] const [viewMode, setViewMode] = useState<'write' | 'preview'>('write');
85: [0] const [showEmojiPicker, setShowEmojiPicker] = useState(false);
87: [0] // Editor Ref
88: [0] const textareaRef = useRef<HTMLTextAreaElement>(null);
90: [0] // Candidate State
91: [0] const [selectedJobId, setSelectedJobId] = useState<string>(jobs.length > 0 ? jobs[0].id : '');
92: [0] const [candidateMatches, setCandidateMatches] = useState<Record<string, { score: number, reason: string }>>({});
93: [0] const [isMatching, setIsMatching] = useState(false);
95: [0] const handlePublish = async () => {
96: [0] if (!jobTitle.trim() || !adDraft.trim()) {
97: [0] alert("Pros√≠m vypl≈àte n√°zev pozice i popis.");
98: [0] return;
99: [0] }
101: [0] // Job Limit Check
102: [0] const { allowed } = canCompanyPostJob(companyProfile, userEmail);
104: [0] if (!allowed) {
105: [0] setShowUpgradeModal({ open: true, feature: 'V√≠ce ne≈æ 5 inzer√°t≈Ø' });
106: [0] return;
107: [0] }
109: [0] setIsPublishing(true);
110: [0] try {
111: [0] await publishJob({
112: [0] title: jobTitle,
113: [0] company: companyProfile.name,
114: [0] description: adDraft,
115: [0] location: companyProfile.address || 'ƒåesk√° republika',
116: [0] });
117: [0] alert("Inzer√°t byl odesl√°n ke kontrole a bude brzy zve≈ôejnƒõn!");
118: [0] if (isRealUser) {
119: [0] setAdDraft('');
120: [0] setJobTitle('');
121: [0] }
122: [0] } catch (e) {
123: [0] console.error(e);
124: [0] alert("Chyba p≈ôi zve≈ôej≈àov√°n√≠ inzer√°tu.");
125: [0] } finally {
126: [0] setIsPublishing(false);
127: [0] }
128: [0] };
130: [0] const handleOptimize = async () => {
131: [0] // Feature Gating
132: [0] if (!canCompanyUseFeature(companyProfile, 'COMPANY_AI_AD', userEmail)) {
133: [0] setShowUpgradeModal({ open: true, feature: 'AI Optimalizace Inzer√°t≈Ø' });
134: [0] return;
135: [0] }
137: [0] setIsOptimizing(true);
138: [0] try {
139: [0] const result = await optimizeJobDescription(adDraft, companyProfile);
140: [0] setOptimizationResult(result);
141: [0] if (result) {
142: [0] setViewMode('write');
143: [0] }
144: [0] } catch (e) {
145: [0] console.error(e);
146: [0] } finally {
147: [0] setIsOptimizing(false);
148: [0] }
149: [0] };
151: [0] const PlanUpgradeModal = () => {
152: [0] if (!showUpgradeModal.open) return null;
154: [0] return (
155: [1] <div className="fixed inset-0 z-[200] flex items-center justify-center p-4 animate-in fade-in duration-300">
156: [2] <div
157: [2] className="absolute inset-0 bg-slate-900/80 backdrop-blur-md"
158: [2] onClick={() => setShowUpgradeModal({ open: false })}
159: [1] ></div>
160: [2] <div className="relative bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-3xl shadow-2xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-300">
161: [2] <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-cyan-600 to-blue-600"></div>
163: [3] <div className="p-10 flex flex-col md:flex-row gap-10">
164: [4] <div className="flex-1">
165: [5] <div className="w-16 h-16 bg-cyan-500/10 text-cyan-600 dark:text-cyan-400 rounded-2xl flex items-center justify-center mb-6">
166: [5] <Crown size={32} />
167: [4] </div>
168: [4] <h2 className="text-3xl font-black text-slate-900 dark:text-white mb-2 tracking-tight">Vylep≈°ete sv≈Øj N√°bor</h2>
169: [4] <p className="text-slate-500 dark:text-slate-400 mb-8 leading-relaxed">
170: [4] Funkce <span className="font-bold text-cyan-600 dark:text-cyan-400">"{showUpgradeModal.feature}"</span> je dostupn√° v tarifu <span className="font-bold text-slate-900 dark:text-white">Business</span> a vy≈°≈°√≠m.
171: [4] </p>
173: [5] <div className="space-y-4">
174: [5] {[
175: [5] { icon: Briefcase, text: 'Neomezen√Ω poƒçet inzer√°t≈Ø' },
176: [5] { icon: BrainCircuit, text: '10 AI Assessment≈Ø mƒõs√≠ƒçnƒõ' },
177: [5] { icon: Sparkles, text: 'AI Optimalizace inzer√°t≈Ø' },
178: [5] { icon: Users, text: 'Doporuƒçen√≠ vhodn√Ωch kandid√°t≈Ø' }
179: [5] ].map((f, i) => (
180: [6] <div key={i} className="flex items-center gap-3">
181: [7] <div className="p-1.5 bg-emerald-500/10 text-emerald-600 rounded-lg">
182: [7] <f.icon size={16} />
183: [6] </div>
184: [6] <span className="text-sm font-bold text-slate-700 dark:text-slate-300">{f.text}</span>
185: [5] </div>
186: [5] ))}
187: [4] </div>
188: [3] </div>
190: [4] <div className="w-full md:w-64 flex flex-col gap-4">
191: [5] <div className="p-6 bg-cyan-50 dark:bg-cyan-950/20 border-2 border-cyan-500 rounded-2xl relative">
192: [5] <div className="absolute -top-3 right-4 bg-cyan-600 text-white text-[10px] font-black px-2 py-0.5 rounded uppercase tracking-widest">Nejobl√≠benƒõj≈°√≠</div>
193: [5] <h3 className="font-bold text-slate-900 dark:text-white mb-1">Business</h3>
194: [6] <div className="flex items-baseline gap-1 mb-4">
195: [6] <span className="text-2xl font-black text-cyan-600 dark:text-cyan-400">4 990 Kƒç</span>
196: [6] <span className="text-xs text-slate-500">/mƒõs</span>
197: [5] </div>
198: [5] <button
199: [5] onClick={() => {
200: [5] if (companyProfile.id) {
201: [5] redirectToCheckout('business', companyProfile.id);
202: [5] } else {
203: [5] alert('Chyba: ID firmy nebylo nalezeno. Zkuste pros√≠m znovu naƒç√≠st str√°nku.');
204: [5] }
205: [5] }}
206: [5] className="w-full py-2.5 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-xl transition-all shadow-lg shadow-cyan-900/20"
207: [5] >
208: [5] Vybrat Business
209: [5] </button>
210: [4] </div>
212: [5] <div className="p-6 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-2xl">
213: [5] <h3 className="font-bold text-slate-900 dark:text-white mb-1">Enterprise</h3>
214: [5] <div className="text-sm text-slate-500 mb-4">Na m√≠ru velk√Ωm firm√°m</div>
215: [5] <button
216: [5] onClick={() => setShowUpgradeModal({ open: false })}
217: [5] className="w-full py-2.5 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-bold rounded-xl transition-all"
218: [5] >
219: [5] Kontaktovat n√°s
220: [5] </button>
221: [4] </div>
222: [3] </div>
223: [2] </div>
224: [1] </div>
225: [0] </div>
226: [0] );
227: [0] };
229: [0] const applyOptimization = () => {
230: [0] if (optimizationResult) {
231: [0] setAdDraft(optimizationResult.rewrittenText);
232: [0] setOptimizationResult(null);
233: [0] }
234: [0] };
236: [0] // Editor Formatting Helper
237: [0] const insertFormat = (prefix: string, suffix: string = '') => {
238: [0] if (!textareaRef.current) return;
240: [0] const start = textareaRef.current.selectionStart;
241: [0] const end = textareaRef.current.selectionEnd;
242: [0] const text = adDraft;
243: [0] const before = text.substring(0, start);
244: [0] const selection = text.substring(start, end);
245: [0] const after = text.substring(end);
247: [0] const newText = before + prefix + selection + suffix + after;
248: [0] setAdDraft(newText);
250: [0] // Restore focus and cursor position after state update
251: [0] setTimeout(() => {
252: [0] if (textareaRef.current) {
253: [0] textareaRef.current.focus();
254: [0] const newCursorPos = start + prefix.length + selection.length + suffix.length;
255: [0] // Ideally place cursor inside if selection was empty, or at end if not
256: [0] const nextPos = selection.length === 0 ? start + prefix.length : newCursorPos;
257: [0] textareaRef.current.setSelectionRange(nextPos, nextPos);
258: [0] }
259: [0] }, 0);
260: [0] };
262: [0] const insertEmoji = (emoji: string) => {
263: [0] insertFormat(emoji);
264: [0] setShowEmojiPicker(false);
265: [0] };
267: [0] const runCandidateMatch = async () => {
268: [0] setIsMatching(true);
269: [0] const job = jobs.find(j => j.id === selectedJobId);
270: [0] if (!job) return;
272: [0] if (isRealUser) {
273: [0] try {
274: [0] const result = await getCandidateMatches(selectedJobId);
275: [0] const newMatches: Record<string, { score: number, reason: string }> = {};
276: [0] const backendCandidates: Candidate[] = [];
278: [0] result.matches.forEach((m: any) => {
279: [0] newMatches[m.candidate_id] = { score: m.score, reason: m.reasons.join(", ") };
280: [0] // Reconstruct basic candidate info from the backend response
281: [0] backendCandidates.push({
282: [0] id: m.candidate_id,
283: [0] name: m.profile.name,
284: [0] role: m.profile.job_title,
285: [0] skills: m.profile.skills,
286: [0] bio: m.profile.bio
287: [0] } as any);
289: [0] });
291: [0] setCandidates(backendCandidates);
292: [0] setCandidateMatches(newMatches);
293: [0] } catch (e) {
294: [0] console.error("Match fetch failed", e);
295: [0] }
296: [0] } else {
297: [0] const newMatches: Record<string, { score: number, reason: string }> = {};
298: [0] // Simulate parallel requests for demo
299: [0] for (const c of candidates) {
300: [0] const result = await matchCandidateToJob(c.bio + " " + c.skills.join(", "), job.description);
301: [0] newMatches[c.id] = result;
302: [0] }
303: [0] setCandidateMatches(newMatches);
304: [0] }
306: [0] setIsMatching(false);
307: [0] };
309: [0] // Load initial data for Real User
310: [0] React.useEffect(() => {
311: [0] if (isRealUser) {
312: [0] const loadData = async () => {
313: [0] try {
314: [0] // Fetch real jobs
315: [0] if (supabase) {
316: [0] const { data: realJobs } = await supabase.from('jobs').select('*').order('scraped_at', { ascending: false });
317: [0] if (realJobs) {
318: [0] setJobs(realJobs as Job[]);
319: [0] if (realJobs.length > 0) setSelectedJobId(realJobs[0].id);
320: [0] }
321: [0] }
322: [0] } catch (e) {
323: [0] console.error("Failed to load dashboard data", e);
324: [0] }
325: [0] };
326: [0] loadData();
327: [0] }
328: [0] }, [isRealUser]);
330: [0] // Recruiter Filtering
331: [0] const [selectedRecruiterId, setSelectedRecruiterId] = useState<string>('all');
332: [0] const recruiters = companyProfile.members || [
333: [0] { id: 'all', name: 'V≈°ichni n√°bora≈ôi', email: '', role: 'admin', joinedAt: '' },
334: [0] { id: '1', name: 'Floki Shaman', email: 'floki@jobshaman.cz', role: 'admin', joinedAt: '' }
335: [0] ];
337: [0] // In a real app we'd filter by recruiter_id or similar
339: [0] const agencySavings = 450000;
340: [0] const percentSpent = 65;
341: [0] const projectedSpend = 1200000;
342: [0] const costPerHire = 12500;
343: [0] const marketAvgCostPerHire = 35000;
345: [0] const renderOverview = () => {
346: [0] // If Real User & Empty, show Empty State
347: [0] if (isRealUser && jobs.length === 0) {
348: [0] return (
349: [1] <div className="flex flex-col items-center justify-center py-20 animate-in fade-in">
350: [2] <div className="w-24 h-24 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-6">
351: [2] <Sparkles size={40} className="text-slate-400" />
352: [1] </div>
353: [1] <h2 className="text-2xl font-bold text-slate-900 dark:text-white mb-2">V√≠tejte v JobShaman, {companyProfile.name}</h2>
354: [1] <p className="text-slate-500 dark:text-slate-400 max-w-md text-center mb-8">
355: [1] Zat√≠m nem√°te ≈æ√°dn√° data. Vytvo≈ôte sv≈Øj prvn√≠ inzer√°t pomoc√≠ na≈°eho AI editoru a zaƒçnƒõte nab√≠rat bez balastu.
356: [1] </p>
357: [1] <button
358: [1] onClick={() => setActiveTab('create-ad')}
359: [1] className="px-8 py-3 bg-indigo-600 text-white font-bold rounded-xl shadow-lg hover:bg-indigo-500 transition-colors flex items-center gap-2"
360: [1] >
361: [1] <PenTool size={20} />
362: [1] Vytvo≈ôit Prvn√≠ Inzer√°t
363: [1] </button>
364: [0] </div>
365: [0] );
366: [0] }
368: [0] return (
369: [1] <div className="space-y-6 animate-in fade-in">
371: [1] {/* Recruiter Selector & Header */}
372: [2] <div className="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-2">
373: [3] <div>
374: [3] <h2 className="text-2xl font-black text-slate-900 dark:text-white tracking-tight">P≈ôehled N√°boru</h2>
375: [3] <p className="text-sm text-slate-500">Statistiky pro celou spoleƒçnost a jednotliv√© n√°bora≈ôe.</p>
376: [2] </div>
377: [3] <div className="flex items-center gap-3 bg-white dark:bg-slate-900 p-1.5 rounded-2xl border border-slate-200 dark:border-slate-800 shadow-sm">
378: [3] <Users size={16} className="ml-2 text-slate-400" />
379: [3] <select
380: [3] value={selectedRecruiterId}
381: [3] onChange={(e) => setSelectedRecruiterId(e.target.value)}
382: [3] className="bg-transparent border-none focus:ring-0 text-sm font-bold text-slate-700 dark:text-slate-300 pr-8 cursor-pointer"
383: [3] >
384: [3] <option value="all">V≈°ichni n√°bora≈ôi (Cel√° Firma)</option>
385: [3] {recruiters.filter(r => r.id !== 'all').map(r => (
386: [3] <option key={r.id} value={r.id}>{r.name}</option>
387: [3] ))}
388: [3] </select>
389: [2] </div>
390: [1] </div>
392: [2] <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
395: [2] {/* Pipeline Metric */}
396: [3] <div className="bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm relative overflow-hidden group">
397: [4] <div className="flex justify-between items-start mb-4">
398: [5] <div>
399: [5] <div className="text-slate-500 dark:text-slate-400 text-sm font-bold uppercase tracking-widest mb-1">Pipeline</div>
400: [5] <div className="text-3xl font-bold text-slate-900 dark:text-white">1,240</div>
401: [4] </div>
402: [5] <div className="p-2 bg-indigo-50 dark:bg-indigo-500/10 rounded-lg text-indigo-600 dark:text-indigo-400">
403: [5] <Users size={20} />
404: [4] </div>
405: [3] </div>
407: [3] {/* Micro Breakdown */}
408: [4] <div className="space-y-2">
409: [5] <div className="flex h-2 rounded-full overflow-hidden bg-slate-100 dark:bg-slate-800">
410: [5] <div className="bg-emerald-500 w-[30%]" title="New: 340"></div>
411: [5] <div className="bg-blue-500 w-[45%]" title="Screening: 520"></div>
412: [5] <div className="bg-purple-500 w-[15%]" title="Interview: 280"></div>
413: [5] <div className="bg-amber-500 w-[10%]" title="Offer: 100"></div>
414: [4] </div>
415: [5] <div className="flex justify-between text-xs text-slate-500 dark:text-slate-400 font-mono">
416: [5] <span className="flex items-center gap-1"><div className="w-1.5 h-1.5 rounded-full bg-emerald-500"></div>New</span>
417: [5] <span className="flex items-center gap-1"><div className="w-1.5 h-1.5 rounded-full bg-blue-500"></div>Screen</span>
418: [5] <span className="flex items-center gap-1"><div className="w-1.5 h-1.5 rounded-full bg-purple-500"></div>Int</span>
419: [5] <span className="flex items-center gap-1"><div className="w-1.5 h-1.5 rounded-full bg-amber-500"></div>Off</span>
420: [4] </div>
421: [3] </div>
422: [2] </div>
424: [2] {/* Quality Metric */}
425: [3] <div className="bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm relative overflow-hidden group">
426: [4] <div className="flex justify-between items-start mb-2">
427: [5] <div>
428: [5] <div className="text-slate-500 dark:text-slate-400 text-sm font-bold uppercase tracking-widest mb-1">Match Score</div>
429: [5] <div className="text-3xl font-bold text-slate-900 dark:text-white">68<span className="text-lg text-slate-400 font-normal">/100</span></div>
430: [4] </div>
431: [5] <div className="p-2 bg-cyan-50 dark:bg-cyan-500/10 rounded-lg text-cyan-600 dark:text-cyan-400">
432: [5] <Target size={20} />
433: [4] </div>
434: [3] </div>
435: [4] <div className="text-sm text-emerald-600 dark:text-emerald-400 flex items-center gap-1 font-medium bg-emerald-50 dark:bg-emerald-900/10 py-1 px-2 rounded w-fit mb-2">
436: [4] <TrendingUp size={14} /> +12% Open Rate
437: [3] </div>
438: [3] <p className="text-xs text-slate-500 dark:text-slate-400 mt-2">
439: [3] Vs Market Avg: <span className="font-bold text-slate-700 dark:text-slate-300">55/100</span>.
440: [3] </p>
441: [2] </div>
443: [2] {/* Time to Hire Metric */}
444: [3] <div className="bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm relative overflow-hidden group">
445: [4] <div className="flex justify-between items-start mb-2">
446: [5] <div>
447: [5] <div className="text-slate-500 dark:text-slate-400 text-sm font-bold uppercase tracking-widest mb-1">Time to Hire</div>
448: [5] <div className="text-3xl font-bold text-slate-900 dark:text-white">24 <span className="text-lg font-normal text-slate-500">dn√≠</span></div>
449: [4] </div>
450: [5] <div className="p-2 bg-amber-50 dark:bg-amber-500/10 rounded-lg text-amber-600 dark:text-amber-400">
451: [5] <Clock size={20} />
452: [4] </div>
453: [3] </div>
455: [4] <div className="flex items-center gap-2 mt-3 text-sm border-t border-slate-100 dark:border-slate-800 pt-2">
456: [4] <span className="font-bold text-emerald-600 dark:text-emerald-400 flex items-center gap-1">
457: [4] <TrendingDown size={14} /> -8 dn√≠
458: [4] </span>
459: [4] <span className="text-slate-400">vs CZ Pr≈Ømƒõr (32)</span>
460: [3] </div>
462: [4] <div className="mt-2 text-xs text-slate-500 space-y-0.5">
463: [5] <div className="flex justify-between">
464: [5] <span>IT / Tech</span>
465: [5] <span className="font-mono text-slate-700 dark:text-slate-300">18 dn√≠</span>
466: [4] </div>
467: [5] <div className="flex justify-between">
468: [5] <span>Marketing</span>
469: [5] <span className="font-mono text-slate-700 dark:text-slate-300">31 dn√≠</span>
470: [4] </div>
471: [3] </div>
472: [2] </div>
474: [2] {/* Budget Metric */}
475: [3] <div className="bg-white dark:bg-slate-900 p-5 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm relative overflow-hidden group">
476: [4] <div className="flex justify-between items-start mb-2">
477: [5] <div>
478: [5] <div className="text-slate-500 dark:text-slate-400 text-sm font-bold uppercase tracking-widest mb-1">U≈°et≈ôeno</div>
479: [6] <div className="text-3xl font-bold text-emerald-600 dark:text-emerald-400">
480: [6] {(agencySavings / 1000).toFixed(0)}k <span className="text-lg font-normal text-slate-500 dark:text-slate-400">CZK</span>
481: [5] </div>
482: [4] </div>
483: [5] <div className="p-2 bg-emerald-50 dark:bg-emerald-500/10 rounded-lg text-emerald-600 dark:text-emerald-400">
484: [5] <DollarSign size={20} />
485: [4] </div>
486: [3] </div>
488: [4] <div className="w-full bg-slate-100 dark:bg-slate-800 h-1.5 rounded-full overflow-hidden mb-1 mt-2">
489: [5] <div
490: [5] className={`h-full rounded-full ${percentSpent > 90 ? 'bg-rose-500' : 'bg-emerald-500'}`}
491: [5] style={{ width: `${percentSpent}%` }}
492: [4] ></div>
493: [3] </div>
494: [4] <div className="flex justify-between text-xs text-slate-400 mb-2">
495: [4] <span>Vyƒçerp√°no: {(percentSpent).toFixed(0)}%</span>
496: [4] <span>Proj: {(projectedSpend / 1000000).toFixed(1)}M</span>
497: [3] </div>
499: [4] <div className="pt-2 border-t border-slate-100 dark:border-slate-800">
500: [5] <div className="flex justify-between items-center text-xs">
501: [5] <span className="text-slate-500">Cost/Hire</span>
502: [5] <span className="font-mono font-bold text-slate-700 dark:text-slate-200">{costPerHire.toLocaleString()} Kƒç</span>
503: [4] </div>
504: [5] <div className="text-xs text-right text-emerald-500">
505: [5] vs. {marketAvgCostPerHire.toLocaleString()} (Trh)
506: [4] </div>
507: [3] </div>
508: [2] </div>
511: [2] {/* 2. AI Predictive Insights */}
512: [3] <div className="bg-gradient-to-r from-indigo-50 to-cyan-50 dark:from-indigo-950/20 dark:to-cyan-950/20 border border-indigo-100 dark:border-indigo-900/50 rounded-xl p-4 flex flex-col md:flex-row items-start md:items-center gap-4 relative overflow-hidden">
513: [4] <div className="absolute top-0 right-0 p-4 opacity-5 pointer-events-none text-indigo-500">
514: [4] <BrainCircuit size={80} />
515: [3] </div>
517: [4] <div className="p-2 bg-white dark:bg-slate-900 rounded-lg shadow-sm text-indigo-600 dark:text-indigo-400 border border-indigo-100 dark:border-indigo-800 z-10">
518: [4] <Sparkles size={20} />
519: [3] </div>
521: [4] <div className="flex-1 z-10">
522: [4] <h3 className="text-sm font-bold text-indigo-900 dark:text-indigo-200 mb-1">AI Strategick√Ω Vhled</h3>
523: [5] <div className="flex flex-col md:flex-row gap-4 text-sm text-indigo-800 dark:text-indigo-300">
524: [6] <div className="flex items-center gap-2">
525: [6] <CheckCircle size={14} className="text-emerald-500" />
526: [6] <span><strong>React Senior:</strong> Na z√°kladƒõ historie budete m√≠t hired do 21 dn≈Ø (45 kandid√°t≈Ø v pipeline). Jste v pl√°nu.</span>
527: [5] </div>
528: [6] <div className="flex items-center gap-2">
529: [6] <ArrowRight size={14} className="text-amber-500" />
530: [6] <span><strong>Store Assistant:</strong> N√≠zk√° AI shoda (22% avg). Doporuƒçujeme upravit popis pracovn√≠ doby v inzer√°tu.</span>
531: [5] </div>
532: [4] </div>
533: [3] </div>
534: [2] </div>
536: [3] <div className="grid grid-cols-1 xl:grid-cols-3 gap-6">
538: [3] {/* 3. Left Column: Active Postings Table (2/3) */}
539: [4] <div className="xl:col-span-2 space-y-4">
540: [5] <div className="flex items-center justify-between">
541: [5] <h3 className="text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2">
542: [5] <Briefcase size={20} className="text-cyan-600" /> Aktivn√≠ Inzerce
543: [5] </h3>
544: [6] <div className="flex gap-2">
545: [6] <button className="p-2 text-slate-500 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors">
546: [6] <Search size={16} />
547: [6] </button>
548: [6] <button className="p-2 text-slate-500 hover:text-slate-900 dark:hover:text-white hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors">
549: [6] <Filter size={16} />
550: [6] </button>
551: [5] </div>
552: [4] </div>
554: [5] <div className="bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm">
555: [6] <div className="overflow-x-auto">
556: [6] <table className="w-full text-left">
557: [6] <thead className="bg-slate-50 dark:bg-slate-950 text-slate-500 dark:text-slate-400 uppercase font-mono text-xs">
558: [6] <tr>
559: [6] <th className="px-4 py-3">Pozice</th>
560: [6] <th className="px-4 py-3">Pipeline Health</th>
561: [6] <th className="px-4 py-3 text-center">AI Shoda</th>
562: [6] <th className="px-4 py-3 text-center">V√Ωkon</th>
563: [6] <th className="px-4 py-3 text-right">Akce</th>
564: [6] </tr>
565: [6] </thead>
566: [6] <tbody className="divide-y divide-slate-100 dark:divide-slate-800 text-sm">
567: [6] {jobs.slice(0, 5).map((job) => {
568: [6] // Generate stats based on job characteristics to ensure visual consistency
569: [6] let baseViews = 200;
570: [6] let conversionRate = 0.08;
572: [6] // Customize per mock job to ensure realistic demo data
573: [6] if (job.title.includes('React')) { baseViews = 450; conversionRate = 0.12; }
574: [6] if (job.title.includes('Crypto')) { baseViews = 800; conversionRate = 0.02; } // Clickbait: High views, low apply
575: [6] if (job.title.includes('Store')) { baseViews = 600; conversionRate = 0.18; } // High volume
577: [6] // Add randomness
578: [6] const views = Math.floor(baseViews * (0.8 + Math.random() * 0.4));
579: [6] const applied = Math.floor(views * (conversionRate * (0.9 + Math.random() * 0.2)));
581: [6] const realConversion = (applied / views) * 100;
582: [6] const avgMatch = Math.floor(Math.random() * 30) + 60;
584: [6] // Dynamic "Low Performance" badge based on actual calculated conversion (< 4%)
585: [6] const isLowPerf = realConversion < 4;
587: [6] return (
588: [6] <tr key={job.id} className="hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors group">
589: [6] <td className="px-4 py-3">
590: [6] <div className="font-bold text-slate-900 dark:text-white text-sm">{job.title}</div>
591: [7] <div className="text-xs text-slate-500 mt-0.5 flex items-center gap-1">
592: [7] {job.location} ‚Ä¢ {job.postedAt}
593: [7] {isLowPerf && <span className="text-rose-500 font-bold ml-1 flex items-center gap-0.5"><TrendingDown size={12} /> Slab√Ω v√Ωkon</span>}
594: [6] </div>
595: [6] </td>
597: [6] {/* Pipeline Visual */}
598: [6] <td className="px-4 py-3">
599: [7] <div className="flex items-center gap-2 mb-1">
600: [7] <span className="font-mono font-bold text-slate-700 dark:text-slate-300">{applied}</span>
601: [7] <span className="text-xs text-slate-400">uchazeƒç≈Ø</span>
602: [6] </div>
603: [7] <div className="flex h-1.5 w-24 rounded-full overflow-hidden bg-slate-100 dark:bg-slate-800">
604: [7] <div className="bg-emerald-500" style={{ width: '20%' }}></div>
605: [7] <div className="bg-blue-500" style={{ width: '40%' }}></div>
606: [7] <div className="bg-purple-500" style={{ width: '10%' }}></div>
607: [6] </div>
608: [6] </td>
610: [6] {/* AI Match */}
611: [6] <td className="px-4 py-3 text-center">
612: [6] <span className={`inline-flex px-2 py-0.5 rounded text-xs font-bold ${avgMatch > 70 ? 'bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400' : 'bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400'}`}>
613: [6] {avgMatch}%
614: [6] </span>
615: [6] </td>
617: [6] {/* Performance stats */}
618: [6] <td className="px-4 py-3 text-center">
619: [7] <div className="text-xs text-slate-500">
620: [7] <div className="font-bold text-slate-700 dark:text-slate-300">{views} views</div>
621: [7] <div className={isLowPerf ? "text-rose-500 font-bold" : ""}>{realConversion.toFixed(1)}% conv.</div>
622: [6] </div>
623: [6] </td>
625: [6] {/* Actions */}
626: [6] <td className="px-4 py-3 text-right">
627: [7] <div className="flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
628: [7] <button className="p-1.5 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 dark:hover:bg-indigo-900/20 rounded" title="Boostovat inzer√°t">
629: [7] <Zap size={16} />
630: [7] </button>
631: [7] <button className="p-1.5 text-slate-400 hover:text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded" title="Pozastavit">
632: [7] <PauseCircle size={16} />
633: [7] </button>
634: [7] <button className="p-1.5 text-slate-400 hover:text-cyan-600 hover:bg-cyan-50 dark:hover:bg-cyan-900/20 rounded" title="Upravit">
635: [7] <PenTool size={16} />
636: [7] </button>
637: [6] </div>
638: [6] </td>
639: [6] </tr>
640: [6] );
641: [6] })}
642: [6] </tbody>
643: [6] </table>
644: [5] </div>
646: [5] {/* Recruitment Funnel Viz */}
647: [6] <div className="p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950/30">
648: [6] <h4 className="text-xs font-bold uppercase text-slate-500 mb-3">Celkov√Ω Funnel Konverze</h4>
649: [7] <div className="flex items-center justify-between text-xs text-slate-600 dark:text-slate-400 relative">
650: [7] {/* Connecting Line */}
651: [7] <div className="absolute top-1/2 left-0 w-full h-0.5 bg-slate-200 dark:bg-slate-800 -z-10 transform -translate-y-1/2"></div>
653: [8] <div className="bg-white dark:bg-slate-900 px-2 py-1 rounded border border-slate-200 dark:border-slate-800 text-center">
654: [8] <div className="font-bold">12,450</div>
655: [8] <div className="text-xs text-slate-400">Views</div>
656: [7] </div>
658: [8] <div className="bg-white dark:bg-slate-900 px-2 py-1 rounded border border-slate-200 dark:border-slate-800 text-center">
659: [8] <div className="font-bold">1,240</div>
660: [8] <div className="text-xs text-slate-400">Applicants (10%)</div>
661: [7] </div>
663: [8] <div className="bg-white dark:bg-slate-900 px-2 py-1 rounded border border-slate-200 dark:border-slate-800 text-center">
664: [8] <div className="font-bold">280</div>
665: [8] <div className="text-xs text-slate-400">Interviews (22%)</div>
666: [7] </div>
668: [8] <div className="bg-white dark:bg-slate-900 px-2 py-1 rounded border border-slate-200 dark:border-slate-800 text-center border-emerald-500/30 bg-emerald-50 dark:bg-emerald-900/10">
669: [8] <div className="font-bold text-emerald-600 dark:text-emerald-400">42</div>
670: [8] <div className="text-xs text-emerald-500">Hires (15%)</div>
671: [7] </div>
672: [6] </div>
673: [5] </div>
674: [4] </div>
675: [3] </div>
677: [3] {/* 4. Right Column: Feed & Team (1/3) */}
678: [4] <div className="space-y-6">
680: [4] {/* Activity Feed */}
681: [5] <div className="space-y-4">
682: [6] <div className="flex items-center justify-between">
683: [6] <h3 className="text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2">
684: [6] <BrainCircuit size={20} className="text-purple-500" /> Live Feed
685: [6] </h3>
686: [6] <span className="text-xs font-mono text-slate-500 bg-slate-100 dark:bg-slate-800 px-2 py-0.5 rounded">Real-time</span>
687: [5] </div>
689: [6] <div className="bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm">
690: [7] <div className="divide-y divide-slate-100 dark:divide-slate-800">
691: [7] {candidates.map((candidate, idx) => {
692: [7] const status = idx === 0 ? 'Top Pick' : idx === 1 ? 'Review' : 'Assessment';
693: [7] const statusStyle = idx === 0
694: [7] ? 'text-emerald-600 bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800'
695: [7] : 'text-slate-600 bg-slate-50 dark:bg-slate-800 border-slate-200 dark:border-slate-700';
697: [7] return (
698: [8] <div key={candidate.id} className="p-4 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors group">
699: [9] <div className="flex justify-between items-start mb-2">
700: [10] <div className="flex items-center gap-3">
701: [11] <div className="w-8 h-8 rounded-full bg-gradient-to-br from-slate-200 to-slate-300 dark:from-slate-700 dark:to-slate-800 flex items-center justify-center text-xs font-bold text-slate-700 dark:text-slate-200 shadow-inner">
702: [11] {candidate.name.charAt(0)}
703: [10] </div>
704: [11] <div>
705: [12] <div className="font-bold text-sm text-slate-900 dark:text-white group-hover:text-cyan-600 transition-colors flex items-center gap-2">
706: [12] {candidate.name}
707: [12] <span className={`text-xs px-1.5 rounded uppercase font-bold border ${statusStyle}`}>{status}</span>
708: [11] </div>
709: [11] <div className="text-xs text-slate-500 dark:text-slate-400">{candidate.role}</div>
710: [10] </div>
711: [9] </div>
713: [9] {/* Action Buttons */}
714: [10] <div className="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
715: [10] <button className="p-1.5 bg-emerald-50 text-emerald-600 rounded hover:bg-emerald-100 dark:bg-emerald-900/20 dark:hover:bg-emerald-900/40" title="Zavolat">
716: [10] <Phone size={14} />
717: [10] </button>
718: [10] <button className="p-1.5 bg-blue-50 text-blue-600 rounded hover:bg-blue-100 dark:bg-blue-900/20 dark:hover:bg-blue-900/40" title="Email">
719: [10] <Mail size={14} />
720: [10] </button>
721: [10] <button className="p-1.5 bg-rose-50 text-rose-600 rounded hover:bg-rose-100 dark:bg-rose-900/20 dark:hover:bg-rose-900/40" title="Zam√≠tnout">
722: [10] <XCircle size={14} />
723: [10] </button>
724: [9] </div>
725: [8] </div>
727: [9] <div className="mt-2 text-xs text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-950/50 p-2 rounded border border-slate-100 dark:border-slate-800 flex items-center justify-between">
728: [9] <span className="truncate italic max-w-[70%]">"{idx === 0 ? 'Siln√Ω kulturn√≠ fit, leader.' : 'Technicky ok, drah√Ω.'}"</span>
729: [10] <div className="flex items-center gap-1 font-bold text-slate-900 dark:text-white" title="Match Score">
730: [10] <Target size={14} className={idx === 0 ? "text-emerald-500" : "text-amber-500"} />
731: [10] {85 - (idx * 12)}%
732: [9] </div>
733: [8] </div>
734: [7] </div>
735: [7] );
736: [7] })}
737: [6] </div>
738: [6] <button className="w-full py-2 text-xs font-bold text-center text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors border-t border-slate-100 dark:border-slate-800">
739: [6] Zobrazit v≈°echny notifikace
740: [6] </button>
741: [5] </div>
742: [4] </div>
744: [4] {/* Team Leaderboard (Bonus) */}
745: [5] <div className="bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 p-4 shadow-sm">
746: [6] <div className="flex items-center gap-2 mb-3 text-sm font-bold text-slate-700 dark:text-slate-200">
747: [6] <UserCheck size={16} className="text-indigo-500" /> Top Recruiter (Mƒõs√≠c)
748: [5] </div>
749: [6] <div className="flex items-center justify-between">
750: [7] <div className="flex items-center gap-2">
751: [7] <div className="w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/50 flex items-center justify-center font-bold text-indigo-700 dark:text-indigo-300">P</div>
752: [8] <div className="text-xs">
753: [8] <div className="font-bold dark:text-white">Petra N.</div>
754: [8] <div className="text-slate-500">8 Hires</div>
755: [7] </div>
756: [6] </div>
757: [7] <div className="text-right text-xs">
758: [7] <div className="font-mono font-bold text-emerald-600 dark:text-emerald-400">19 dn√≠</div>
759: [7] <div className="text-slate-400">Avg TTH</div>
760: [6] </div>
761: [5] </div>
762: [4] </div>
764: [3] </div>
765: [2] </div>
766: [1] </div>
767: [1] );
768: [1] };
770: [1] const renderCreateAd = () => (
771: [2] <div className="grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-200px)] min-h-[600px] animate-in slide-in-from-right-4">
773: [2] {/* Editor (Center) */}
774: [3] <div className="lg:col-span-8 flex flex-col h-full bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden order-2 lg:order-1">
775: [4] <div className="p-4 border-b border-slate-200 dark:border-slate-800 flex justify-between items-center bg-slate-50 dark:bg-slate-950/50">
776: [4] <h3 className="font-bold text-slate-700 dark:text-slate-200 flex items-center gap-2">
777: [4] <PenTool size={16} /> Editor Inzer√°tu
778: [4] </h3>
779: [4] <span className="text-xs text-slate-500 dark:text-slate-400 hidden sm:block">Aplikuji t√≥n: <span className="font-semibold text-slate-700 dark:text-slate-300">{companyProfile.tone}</span></span>
780: [3] </div>
782: [3] {/* Title Input */}
783: [4] <div className="px-6 py-4 border-b border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900">
784: [4] <label className="block text-xs font-bold text-slate-500 uppercase tracking-widest mb-1">N√°zev Pozice</label>
785: [4] <input
786: [4] type="text"
787: [4] value={jobTitle}
788: [4] onChange={(e) => setJobTitle(e.target.value)}
789: [4] placeholder="Napi≈°te n√°zev pracovn√≠ pozice..."
790: [4] className="w-full text-xl font-bold bg-transparent border-none focus:ring-0 p-0 text-slate-900 dark:text-white placeholder:text-slate-300 dark:placeholder:text-slate-700"
791: [4] />
792: [3] </div>
794: [3] {/* Toolbar */}
795: [4] <div className="flex items-center gap-1 p-2 border-b border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 sticky top-0 z-10">
796: [4] <button onClick={() => setViewMode(viewMode === 'write' ? 'preview' : 'write')} className={`p-1.5 rounded transition-colors flex items-center gap-2 px-3 text-xs font-bold ${viewMode === 'preview' ? 'bg-indigo-100 text-indigo-700 dark:bg-indigo-500/20 dark:text-indigo-300' : 'hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-600 dark:text-slate-400'}`} title="P≈ôepnout n√°hled">
797: [4] {viewMode === 'preview' ? <Eye size={16} /> : <LayoutTemplate size={16} />}
798: [4] {viewMode === 'preview' ? 'N√°hled' : 'Editor'}
799: [4] </button>
800: [4] <div className="w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"></div>
802: [4] <button onClick={() => insertFormat('**', '**')} className="p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors" title="Tuƒçnƒõ">
803: [4] <Bold size={16} />
804: [4] </button>
805: [4] <button onClick={() => insertFormat('*', '*')} className="p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors" title="Kurz√≠va">
806: [4] <Italic size={16} />
807: [4] </button>
808: [4] <div className="w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"></div>
809: [4] <button onClick={() => insertFormat('\n### ', '\n')} className="p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors" title="Nadpis">
810: [4] <Heading size={16} />
811: [4] </button>
812: [4] <button onClick={() => insertFormat('\n- ', '')} className="p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors" title="Seznam">
813: [4] <List size={16} />
814: [4] </button>
815: [4] <button onClick={() => insertFormat('\n> ', '\n')} className="p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors" title="Citace">
816: [4] <Quote size={16} />
817: [4] </button>
818: [4] <div className="w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"></div>
820: [4] {/* Emoji Picker Button */}
821: [5] <div className="relative">
822: [5] <button
823: [5] onClick={() => setShowEmojiPicker(!showEmojiPicker)}
824: [5] className={`p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors ${showEmojiPicker ? 'bg-slate-100 dark:bg-slate-800 text-indigo-500' : ''}`}
825: [5] title="Vlo≈æit Emoji"
826: [5] >
827: [5] <Smile size={16} />
828: [5] </button>
830: [5] {/* Emoji Popover */}
831: [5] {showEmojiPicker && (
832: [6] <div className="absolute top-full left-0 mt-2 w-64 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-700 rounded-lg shadow-xl p-3 z-50 grid grid-cols-5 gap-1 animate-in zoom-in-95">
833: [6] {JOB_EMOJIS.map(emoji => (
834: [6] <button
835: [6] key={emoji}
836: [6] onClick={() => insertEmoji(emoji)}
837: [6] className="h-9 w-9 flex items-center justify-center text-lg hover:bg-slate-100 dark:hover:bg-slate-800 rounded transition-colors"
838: [6] >
839: [6] {emoji}
840: [6] </button>
841: [6] ))}
842: [5] </div>
843: [5] )}
844: [4] </div>
846: [4] <div className="w-px h-4 bg-slate-200 dark:bg-slate-700 mx-1"></div>
847: [4] <button onClick={() => insertFormat('[', '](url)')} className="p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors" title="Odkaz">
848: [4] <LinkIcon size={16} />
849: [4] </button>
850: [4] <button onClick={() => insertFormat('`', '`')} className="p-1.5 hover:bg-slate-100 dark:hover:bg-slate-800 rounded text-slate-600 dark:text-slate-400 transition-colors" title="K√≥d">
851: [4] <Code size={16} />
852: [4] </button>
853: [3] </div>
855: [3] {viewMode === 'write' ? (
856: [3] <textarea
857: [3] ref={textareaRef}
858: [3] className="flex-1 w-full p-6 resize-none focus:outline-none text-slate-800 dark:text-slate-200 font-mono text-base leading-relaxed bg-white dark:bg-slate-900 placeholder:text-slate-400 dark:placeholder:text-slate-600"
859: [3] value={adDraft}
860: [3] onChange={(e) => setAdDraft(e.target.value)}
861: [3] placeholder="Zaƒçnƒõte ps√°t popis pozice..."
862: [3] />
863: [3] ) : (
864: [4] <div className="flex-1 w-full p-8 overflow-y-auto custom-scrollbar bg-slate-50 dark:bg-slate-950/30">
865: [4] <article className="prose prose-slate dark:prose-invert max-w-none text-slate-700 dark:text-slate-300">
866: [4] <Markdown>{adDraft}</Markdown>
867: [4] </article>
868: [3] </div>
869: [3] )}
871: [4] <div className="p-4 border-t border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-950/30 flex justify-end gap-3">
872: [5] <div className="hidden sm:flex items-center gap-2 text-xs text-slate-500 dark:text-slate-400 mr-auto">
873: [5] <Settings size={14} />
874: [5] Profil: {companyProfile.name}
875: [4] </div>
876: [4] <button
877: [4] onClick={handleOptimize}
878: [4] disabled={isOptimizing}
879: [4] className="flex items-center gap-2 px-4 py-2 text-slate-600 dark:text-slate-400 font-medium hover:bg-slate-200 dark:hover:bg-slate-800 rounded-lg transition-colors border border-slate-200 dark:border-slate-800 shadow-sm disabled:opacity-50"
880: [4] >
881: [4] {isOptimizing ? <Sparkles className="animate-spin" size={18} /> : <Sparkles size={18} />}
882: [4] {isOptimizing ? 'Analyzuji...' : 'Odstranit ≈†um (AI)'}
883: [4] </button>
885: [4] <button
886: [4] onClick={handlePublish}
887: [4] disabled={isPublishing}
888: [4] className="flex items-center gap-2 bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-indigo-500 transition-all shadow-lg shadow-indigo-600/20 disabled:opacity-50"
889: [4] >
890: [4] {isPublishing ? <RefreshCw className="animate-spin" size={18} /> : <Zap size={18} />}
891: [4] {isPublishing ? 'Zve≈ôej≈àuji...' : 'Zve≈ôejnit Inzer√°t'}
892: [4] </button>
893: [3] </div>
894: [2] </div>
896: [2] {/* Right Sidebar: Tools */}
897: [3] <div className="lg:col-span-4 space-y-6 overflow-y-auto pr-2 custom-scrollbar order-1 lg:order-2 h-full">
899: [3] {/* Optimization Result Overlay */}
900: [3] {optimizationResult && (
901: [4] <div className="bg-emerald-50 dark:bg-emerald-950/30 border border-emerald-200 dark:border-emerald-900 rounded-xl p-6 animate-in zoom-in-95 shadow-sm">
902: [5] <div className="flex items-center gap-2 text-emerald-600 dark:text-emerald-400 mb-4">
903: [5] <CheckCircle size={20} />
904: [5] <h3 className="font-bold">N√°vrh Optimalizace</h3>
905: [4] </div>
907: [5] <div className="space-y-4">
908: [6] <div className="bg-white dark:bg-slate-900 p-3 rounded-lg border border-slate-200 dark:border-slate-800">
909: [6] <span className="text-xs font-bold text-rose-500 dark:text-rose-400 uppercase block mb-1">Co jsme vyhodili</span>
910: [7] <div className="flex flex-wrap gap-1">
911: [7] {optimizationResult.removedCliches.map((w, i) => (
912: [7] <span key={i} className="text-xs bg-rose-500/10 text-rose-500 dark:text-rose-400 px-2 py-0.5 rounded border border-rose-500/20 line-through">
913: [7] {w}
914: [7] </span>
915: [7] ))}
916: [6] </div>
917: [5] </div>
919: [6] <div className="bg-white dark:bg-slate-900 p-3 rounded-lg border border-slate-200 dark:border-slate-800">
920: [6] <span className="text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase block mb-1">Proƒç je to lep≈°√≠</span>
921: [6] <p className="text-sm text-slate-600 dark:text-slate-300">{optimizationResult.improvedClarity}</p>
922: [5] </div>
924: [6] <div className="border-t border-emerald-200 dark:border-emerald-900/50 pt-4">
925: [6] <button
926: [6] onClick={applyOptimization}
927: [6] className="w-full py-2 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-500 transition-colors shadow-sm"
928: [6] >
929: [6] Pou≈æ√≠t tento text
930: [6] </button>
931: [5] </div>
932: [4] </div>
933: [3] </div>
934: [3] )}
936: [3] {/* Bullshit Meter Live */}
937: [3] <BullshitMeter metrics={{
938: [3] score: adDraft.toLowerCase().includes('ninja') || adDraft.toLowerCase().includes('rockstar') ? 85 : 20,
939: [3] flags: adDraft.toLowerCase().includes('ninja') ? ['Ninja', 'Hype', 'Grind'] : [],
940: [3] tone: adDraft.toLowerCase().includes('ninja') ? 'Hype-heavy' : 'Professional'
941: [3] }} variant="dark" />
943: [3] {/* Benefit Insights Widget */}
944: [3] <BenefitInsights />
945: [2] </div>
946: [1] </div>
947: [1] );
949: [1] const renderCandidates = () => {
950: [1] // Empty state for Real Users
951: [1] if (isRealUser && candidates.length === 0) {
952: [1] return (
953: [2] <div className="flex flex-col items-center justify-center py-20 animate-in fade-in text-center">
954: [3] <div className="w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-full flex items-center justify-center mb-6">
955: [3] <Users size={32} className="text-slate-400" />
956: [2] </div>
957: [2] <h2 className="text-xl font-bold text-slate-900 dark:text-white mb-2">≈Ω√°dn√≠ kandid√°ti</h2>
958: [2] <p className="text-slate-500 dark:text-slate-400 max-w-sm">
959: [2] Jakmile zve≈ôejn√≠te nab√≠dku, zde se zaƒçnou objevovat profily uchazeƒç≈Ø s vypoƒç√≠tan√Ωm sk√≥re shody.
960: [2] </p>
961: [1] </div>
962: [1] );
963: [1] }
965: [1] return (
966: [2] <div className="space-y-6 animate-in fade-in">
967: [3] <div className="bg-white dark:bg-slate-900 p-4 rounded-xl border border-slate-200 dark:border-slate-800 flex flex-col md:flex-row gap-4 items-center justify-between">
968: [4] <div className="flex items-center gap-3 w-full md:w-auto">
969: [5] <div className="p-2 bg-cyan-500/10 text-cyan-600 dark:text-cyan-400 rounded-lg">
970: [5] <Briefcase size={20} />
971: [4] </div>
972: [4] <select
973: [4] value={selectedJobId}
974: [4] onChange={(e) => setSelectedJobId(e.target.value)}
975: [4] className="bg-transparent font-semibold text-slate-900 dark:text-slate-200 focus:outline-none cursor-pointer border-none ring-0"
976: [4] >
977: [4] {jobs.map(job => (
978: [4] <option key={job.id} value={job.id} className="bg-white dark:bg-slate-900">{job.title}</option>
979: [4] ))}
980: [4] </select>
981: [3] </div>
983: [4] <div className="w-full md:w-auto flex flex-col items-end gap-1">
984: [4] <button
985: [4] onClick={runCandidateMatch}
986: [4] disabled={isMatching}
987: [4] className="w-full md:w-auto px-6 py-2 bg-cyan-600 text-white rounded-lg font-medium hover:bg-cyan-500 transition-colors disabled:opacity-50 flex items-center justify-center gap-2 shadow-sm"
988: [4] >
989: [4] {isMatching ? <Sparkles className="animate-spin" size={16} /> : <Search size={16} />}
990: [4] {isMatching ? 'Analyzuji shodu...' : 'Naj√≠t nejlep≈°√≠ shodu'}
991: [4] </button>
992: [4] <span className="text-xs text-slate-500 dark:text-slate-400 font-medium italic pr-1">
993: [4] AI doporuƒçuje. Rozhoduje ƒçlovƒõk.
994: [4] </span>
995: [3] </div>
996: [2] </div>
998: [3] <div className="grid grid-cols-1 gap-4">
999: [3] {candidates.map(candidate => {
1000: [3] const match = candidateMatches[candidate.id];
1001: [3] return (
1002: [4] <div key={candidate.id} className="bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800 hover:border-slate-400 dark:hover:border-slate-600 transition-all relative overflow-hidden group">
1003: [4] {match && (
1004: [5] <div className="absolute top-0 right-0 p-4 text-right">
1005: [5] <div className="text-3xl font-bold text-cyan-600 dark:text-cyan-400 font-mono">{match.score}%</div>
1006: [5] <div className="text-xs text-slate-500 dark:text-slate-400 font-bold uppercase tracking-wider">Shoda</div>
1007: [4] </div>
1008: [4] )}
1010: [5] <div className="flex flex-col md:flex-row gap-6">
1011: [6] <div className="flex-1">
1012: [7] <div className="flex items-center gap-3 mb-2">
1013: [7] <h3 className="text-xl font-bold text-slate-900 dark:text-white group-hover:text-cyan-600 dark:group-hover:text-cyan-400 transition-colors">{candidate.name}</h3>
1014: [7] <span className="px-2 py-0.5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 text-xs rounded font-medium border border-slate-200 dark:border-slate-700">{candidate.role}</span>
1015: [6] </div>
1016: [6] <p className="text-slate-600 dark:text-slate-300 mb-4 max-w-2xl">{candidate.bio}</p>
1018: [7] <div className="flex flex-wrap gap-2 mb-4">
1019: [7] {candidate.skills.map(skill => (
1020: [7] <span key={skill} className="px-2 py-1 border border-slate-200 dark:border-slate-700 text-slate-500 dark:text-slate-400 text-xs rounded font-medium bg-slate-50 dark:bg-slate-950/50">
1021: [7] {skill}
1022: [7] </span>
1023: [7] ))}
1024: [6] </div>
1026: [7] <div className="flex items-center gap-6 text-sm text-slate-500 dark:text-slate-400">
1027: [7] <span className="flex items-center gap-1">
1028: [7] <Briefcase size={14} /> {candidate.experienceYears} let praxe
1029: [7] </span>
1030: [7] <span className="flex items-center gap-1">
1031: [7] <TrendingUp size={14} />
1032: [7] {candidate.salaryExpectation.toLocaleString()} Kƒç/mƒõs
1033: [7] </span>
1034: [6] </div>
1035: [5] </div>
1037: [5] {/* Risk Assessment Card */}
1038: [6] <div className="md:w-64 bg-slate-50 dark:bg-slate-950/50 rounded-lg p-4 border border-slate-200 dark:border-slate-800">
1039: [6] <h4 className="text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-widest mb-3 font-mono">Anal√Ωza Rizik</h4>
1041: [7] <div className="mb-3">
1042: [8] <div className="flex justify-between text-xs mb-1">
1043: [8] <span className="text-slate-500 dark:text-slate-400">Riziko odchodu</span>
1044: [8] <span className={`font-bold ${candidate.flightRisk === 'High' ? 'text-rose-500' : candidate.flightRisk === 'Medium' ? 'text-amber-500' : 'text-emerald-500'}`}>
1045: [8] {candidate.flightRisk === 'High' ? 'Vysok√©' : candidate.flightRisk === 'Medium' ? 'St≈ôedn√≠' : 'N√≠zk√©'}
1046: [8] </span>
1047: [7] </div>
1048: [8] <div className="w-full bg-slate-200 dark:bg-slate-800 h-1.5 rounded-full">
1049: [9] <div
1050: [9] className={`h-1.5 rounded-full ${candidate.flightRisk === 'High' ? 'bg-rose-500' : candidate.flightRisk === 'Medium' ? 'bg-amber-500' : 'bg-emerald-500'}`}
1051: [9] style={{ width: candidate.flightRisk === 'High' ? '80%' : candidate.flightRisk === 'Medium' ? '50%' : '20%' }}
1052: [8] ></div>
1053: [7] </div>
1054: [6] </div>
1056: [6] {match && (
1057: [7] <div className="mt-4 pt-4 border-t border-slate-200 dark:border-slate-800">
1058: [7] <p className="text-xs text-slate-500 dark:text-slate-400 italic">"{match.reason}"</p>
1059: [6] </div>
1060: [6] )}
1061: [5] </div>
1062: [4] </div>
1063: [3] </div>
1064: [3] );
1065: [3] })}
1066: [2] </div>
1067: [1] </div>
1068: [1] );
1069: [1] };
1071: [1] return (
1072: [2] <div className="w-full max-w-[1920px] mx-auto min-h-full pb-10">
1073: [2] {/* Company Header */}
1074: [3] <div className="mb-8 flex flex-col md:flex-row items-start md:items-center justify-between gap-4">
1075: [4] <div>
1076: [4] <h1 className="text-2xl font-bold text-slate-900 dark:text-white">Firemn√≠ Port√°l</h1>
1077: [4] <p className="text-slate-500 dark:text-slate-400">N√°bor bez pozl√°tka, data bez zkreslen√≠.</p>
1078: [3] </div>
1080: [4] <div className="flex flex-wrap bg-white dark:bg-slate-900 p-1 rounded-lg border border-slate-200 dark:border-slate-800 overflow-x-auto">
1081: [4] <button
1082: [4] onClick={() => setActiveTab('overview')}
1083: [4] className={`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ${activeTab === 'overview' ? 'bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm' : 'text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white'}`}
1084: [4] >
1085: [4] P≈ôehled
1086: [4] </button>
1087: [4] <button
1088: [4] onClick={() => setActiveTab('settings')}
1089: [4] className={`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ${activeTab === 'settings' ? 'bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm' : 'text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white'}`}
1090: [4] >
1091: [4] DNA & Kultura
1092: [4] </button>
1093: [4] <button
1094: [4] onClick={() => setActiveTab('create-ad')}
1095: [4] className={`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ${activeTab === 'create-ad' ? 'bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm' : 'text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white'}`}
1096: [4] >
1097: [4] AI Editor
1098: [4] </button>
1099: [4] <button
1100: [4] onClick={() => setActiveTab('assessments')}
1101: [4] className={`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ${activeTab === 'assessments' ? 'bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm' : 'text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white'}`}
1102: [4] >
1103: [4] Assessmenty
1104: [4] </button>
1105: [4] <button
1106: [4] onClick={() => setActiveTab('candidates')}
1107: [4] className={`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ${activeTab === 'candidates' ? 'bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm' : 'text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white'}`}
1108: [4] >
1109: [4] Kandid√°ti
1110: [4] </button>
1111: [4] <button
1112: [4] onClick={() => setActiveTab('marketplace')}
1113: [4] className={`px-4 py-2 rounded-md text-sm font-medium transition-colors whitespace-nowrap ${activeTab === 'marketplace' ? 'bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white shadow-sm' : 'text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-white'}`}
1114: [4] >
1115: [4] Marketplace kurz≈Ø
1116: [4] </button>
1117: [3] </div>
1118: [2] </div>
1120: [2] {/* Content Area */}
1121: [3] <div className="min-h-[500px]">
1122: [3] {activeTab === 'overview' && renderOverview()}
1123: [3] {activeTab === 'settings' && <CompanySettings profile={companyProfile} onSave={setCompanyProfile} />}
1124: [3] {activeTab === 'create-ad' && renderCreateAd()}
1125: [3] {activeTab === 'assessments' && <AssessmentCreator />}
1126: [3] {activeTab === 'candidates' && renderCandidates()}
1127: [3] {/* {activeTab === 'marketplace' && <CompanyMarketplace />} */}
1128: [2] </div>
1130: [2] <PlanUpgradeModal />
1131: [1] </div>
1132: [1] );
1133: [1] };
1135: [1] export default CompanyDashboard;
