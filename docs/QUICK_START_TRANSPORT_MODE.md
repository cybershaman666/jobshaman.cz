# ğŸš€ Quick Start Guide - Transport Mode Selection

## Jak to funguje?

KdyÅ¾ si uÅ¾ivatel vyplÅˆuje profil v JobShaman, v sekci "Dopravu do prÃ¡ce" mÅ¯Å¾e vybrat preferovanÃ½ zpÅ¯sob cestovÃ¡nÃ­ do prÃ¡ce.

### 4 MÃ³dy dopravy

1. **ğŸš— Auto** (5 CZK/km)
   - NejrychlejÅ¡Ã­ v mÄ›stÄ›
   - StÅ™ednÄ› nÃ¡kladnÃ½
   - IdeÃ¡lnÃ­ pro dÃ¡lkovÃ© cesty

2. **ğŸšŒ MHD** (2.5 CZK/km + lÃ­stky)
   - StÅ™ednÃ­ cena + mÄ›sÃ­ÄnÃ­ letenka
   - PohodlnÃ© v velkÃ½ch mÄ›stech
   - Bez stresu z Å™Ã­zenÃ­

3. **ğŸš´ Kolo** (0.05 CZK/km)
   - NejlevnÄ›jÅ¡Ã­
   - ZdravÃ©
   - IdeÃ¡lnÃ­ pro krÃ¡tkÃ© vzdÃ¡lenosti

4. **ğŸš¶ PÄ›Å¡ky** (zdarma!)
   - NejlevnÄ›jÅ¡Ã­
   - NejzdravÄ›jÅ¡Ã­
   - Jen pro blÃ­zkÃ© vzdÃ¡lenosti

## PÅ™Ã­klad

### Praha, 5 km do prÃ¡ce

#### Co vidÃ­ uÅ¾ivatel?

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dopravu do prÃ¡ce                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸš— Auto          ğŸšŒ MHD          ğŸš´ Kolo      ğŸš¶ PÄ›Å¡ky    â”‚
â”‚  1 100 KÄ/mÄ›sÃ­c   1 350 KÄ/mÄ›sÃ­c  11 KÄ/mÄ›sÃ­c  0 KÄ/mÄ›sÃ­c  â”‚
â”‚  15 minut         25 minut        20 minut     15 minut    â”‚
â”‚  [Vybrat]        [Vybrat]        [Vybrat]    [Vybrat]     â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Nastav mÄ›sto a zemi: [Praha â–¼] [ÄŒR â–¼]                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PodrobnÃ© srovnÃ¡nÃ­:                                          â”‚
â”‚                                                             â”‚
â”‚ MÃ³d     â”‚ DennÄ›  â”‚ MÄ›sÃ­ÄnÄ› â”‚ ÄŒas â”‚ KÄ/min                  â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€                 â”‚
â”‚ PÄ›Å¡ky   â”‚   0 KÄ â”‚   0 KÄ  â”‚ 15m â”‚ 0.00                    â”‚
â”‚ Kolo    â”‚ 0.5 KÄ â”‚  11 KÄ  â”‚ 20m â”‚ 0.05                    â”‚
â”‚ MHD     â”‚  61 KÄ â”‚1 350 KÄ â”‚ 25m â”‚ 0.90                    â”‚
â”‚ Auto    â”‚  50 KÄ â”‚1 100 KÄ â”‚ 15m â”‚ 1.22                    â”‚
â”‚                                                             â”‚
â”‚ ğŸ’¡ DoporuÄenÃ­: Kolo je nejlevnÄ›jÅ¡Ã­!                        â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Detaily implementace

### Soubory

| Soubor | ÃšÄel | Velikost |
|--------|------|----------|
| `services/transportService.ts` | Business logika | 650+ Å™Ã¡dkÅ¯ |
| `components/TransportModeSelector.tsx` | UI komponenta | 350+ Å™Ã¡dkÅ¯ |
| `services/transportService.test.ts` | Testy | 270+ Å™Ã¡dkÅ¯ |
| `TRANSPORT_MODE_DOCUMENTATION.md` | Dokumentace | 300+ Å™Ã¡dkÅ¯ |

### KlÃ­ÄovÃ© funkce

```typescript
// Kalkulace nÃ¡kladÅ¯ pro jeden mÃ³d
calculateTransportCost(distanceKm: 5, mode: 'car', city: 'Praha', country: 'CZ')
// Returns: { mode: 'car', dailyCost: 50, monthlyCost: 1100, ... }

// PorovnÃ¡nÃ­ vÅ¡ech mÃ³dÅ¯
compareAllTransportModes(5, 'Praha', 'CZ')
// Returns: [walk, bike, public, car] seÅ™azeno od nejlevnÄ›jÅ¡Ã­ho

// NejlepÅ¡Ã­ mÃ³d
getBestTransportMode(5, 'Praha', 'CZ')
// Returns: 'walk' (nejlevnÄ›jÅ¡Ã­)

// HledÃ¡nÃ­ zÃ¡jezdnÃ­ karty
findCityPass('Praha', 'CZ')
// Returns: { city: 'Praha', country: 'CZ', monthlyPrice: 1350, currency: 'CZK' }
```

## Jak to pouÅ¾Ã­vat v kÃ³du

### V komponentÄ›
```tsx
import TransportModeSelector from './TransportModeSelector';
import { TransportMode } from '../types';

function MyComponent() {
  const [mode, setMode] = useState<TransportMode>('public');
  
  return (
    <TransportModeSelector
      distanceKm={5}
      selectedMode={mode}
      onModeChange={setMode}
      city="Praha"
      country="CZ"
    />
  );
}
```

### V service
```typescript
import { calculateTransportCost, compareAllTransportModes } from './transportService';

// SpoÄÃ­tej nÃ¡klady
const cost = calculateTransportCost(10, 'car', 'Praha', 'CZ');
console.log(`MÄ›sÃ­ÄnÄ›: ${cost.monthlyCost} KÄ`);

// Porovnej vÅ¡echny mÃ³dy
const comparison = compareAllTransportModes(10, 'Praha', 'CZ');
comparison.forEach(mode => {
  console.log(`${mode.mode}: ${mode.monthlyCost} KÄ/mÄ›sÃ­c`);
});
```

## KterÃ¡ data se uklÃ¡dajÃ­?

ZatÃ­m se do userProfile uklÃ¡dÃ¡:
- `transportMode`: Selected transport mode ('car' | 'public' | 'bike' | 'walk')

V budoucnu se bude uklÃ¡dat:
- PreferovanÃ¡ vzdÃ¡lenost na dopravu
- MÄ›sto a zemÄ›
- Historie preferovanÃ½ch mÃ³dÅ¯

## Kde se to pouÅ¾Ã­vÃ¡?

### AktuÃ¡lnÄ›
- âœ… ProfileEditor - zobrazenÃ­ a vÃ½bÄ›r
- âœ… finansialService.ts - kalkulace nÃ¡kladÅ¯

### V budoucnu
- Job recommendations - filtrovÃ¡nÃ­ podle dostupnosti
- Salary negotiations - pÅ™Ã­spÄ›vek na dopravu
- Job listings - filtrovÃ¡nÃ­ podle dopravnÃ­ vzdÃ¡lenosti
- Analytics - trends v dopravÄ› mezi uÅ¾ivateli

## Postup pro dalÅ¡Ã­ kroky

### 1. Test v ProfileEditor (0.5 hod)
```bash
# OtevÅ™ete ProfileEditor v prohlÃ­Å¾eÄi
# JdÄ›te na sekci "Dopravu do prÃ¡ce"
# VyzkouÅ¡ejte kliknutÃ­ na rÅ¯znÃ© mÃ³dy
# VyzkouÅ¡ejte vÃ½bÄ›r mÄ›sta
```

### 2. PostGIS integrace (2 hod)
```typescript
// V transportService.ts
const distance = await calculatePostGISDistance(
  userCoordinates,
  jobCoordinates
);
```

### 3. UloÅ¾enÃ­ do databÃ¡ze (1 hod)
```typescript
// V ProfileEditor
await supabase
  .from('user_profiles')
  .update({ transport_mode: mode })
  .eq('id', userId);
```

### 4. Job filtering (2 hod)
```typescript
// V job service
const accessibleJobs = jobs.filter(job => 
  calculateCommuteCost(job.location, job.salary, mode) < maxBudget
);
```

## TestovÃ¡nÃ­

### ManuÃ¡lnÃ­ test
1. OtevÅ™ete profil uÅ¾ivatele
2. Rolujte dolÅ¯ na "Dopravu do prÃ¡ce"
3. KliknÄ›te na rÅ¯znÃ© mÃ³dy dopravy
4. VyzkouÅ¡ejte vÃ½bÄ›r rÅ¯znÃ½ch mÄ›st
5. Zkontrolujte vÃ½poÄet cen

### Unit testy
```bash
npm test transportService.test.ts
```

### Coverage
```bash
npm test -- --coverage transportService.test.ts
```

## FAQ

**Q: Jak se poÄÃ­tÃ¡ vzdÃ¡lenost?**
A: ZatÃ­m hardcoded 5 km. PostGIS integrace v pÅ™Ã­Å¡tÃ­m kroku.

**Q: Jak se detekuje mÄ›sto?**
A: Z poslednÃ­ ÄÃ¡sti adresy (dÄ›leno ÄÃ¡rkami). LepÅ¡Ã­ parsing v pÅ™Ã­Å¡tÃ­m kroku.

**Q: Jak se uklÃ¡dÃ¡ preference?**
A: ZatÃ­m jen v state. Database integrace v pÅ™Ã­Å¡tÃ­m kroku.

**Q: Kde se berou ceny zÃ¡jezdnÃ­ch karet?**
A: Ze statickÃ©ho CITY_PASSES array. Real-time data v pÅ™Ã­Å¡tÃ­m kroku.

**Q: Jak se poÄÃ­tÃ¡ Äas cestovÃ¡nÃ­?**
A: FixnÃ­ koeficienty (1.5-2.5 min/km). Google Maps API v pÅ™Ã­Å¡tÃ­m kroku.

## RychlÃ½ debugging

### "Komponenta se nerenduje"
```bash
# Zkontrolujte console pro chyby
# Zkontrolujte Å¾e TransportModeSelector je sprÃ¡vnÄ› importovÃ¡n
```

### "Ceny nejsou sprÃ¡vnÃ©"
```bash
# Zkontrolujte vybranÃ© mÄ›sto a zemi
# SpusÅ¥te test: calculateTransportCost(5, 'car', 'Praha', 'CZ')
```

### "Dark mode nenÃ­ aplikovÃ¡n"
```bash
# Zkontrolujte Å¾e parent element mÃ¡ dark: tÅ™Ã­du
# Zkontrolujte Å¾e Tailwind CSS je nakonfigurovÃ¡n
```

## Kontakt a podpora

Pro jakÃ©koli otÃ¡zky:
1. Zkontrolujte `TRANSPORT_MODE_FINAL_SUMMARY.md`
2. Zkontrolujte `TRANSPORT_MODE_DOCUMENTATION.md`
3. SpusÅ¥te unit testy pro ovÄ›Å™enÃ­ API
4. Debugujte s `console.log` ve TransportModeSelector.tsx

---

**Hotovo** âœ… - Implementace je kompletnÃ­ a pÅ™ipravenÃ¡ k pouÅ¾itÃ­!

Pokud chcete pokraÄovat, doporuÄuji:
1. Otestovat v ProfileEditor
2. Implementovat PostGIS
3. PÅ™idat databÃ¡zovou persistenci
